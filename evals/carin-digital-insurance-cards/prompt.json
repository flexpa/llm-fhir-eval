[
  {
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "Your goal is to extract the images submitted for health insurance card collection into a FHIR Coverage resource profile by the CARIN Digital Insurance Card IG. We've included the StructureDefinition of the Profile for your reference. \nYour goal is to produce a working, validated Resource. Ensure the only output is valid JSON as it will be parsed using `json.loads()` in Python. Do not wrap the response in Markdown backtics. Structure Definition follows: {\"resourceType\":\"StructureDefinition\",\"id\":\"C4DIC-Coverage\",\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg\",\"valueCode\":\"claims\"}],\"url\":\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Coverage\",\"version\":\"1.1.0\",\"name\":\"C4DICCoverage\",\"title\":\"C4DIC Coverage\",\"status\":\"active\",\"date\":\"2024-04-16T15:59:41+00:00\",\"publisher\":\"HL7 International / Payer/Provider Information Exchange Work Group\",\"contact\":[{\"name\":\"HL7 International / Payer/Provider Information Exchange Work Group\",\"telecom\":[{\"system\":\"url\",\"value\":\"http://www.hl7.org/Special/committees/claims\"},{\"system\":\"email\",\"value\":\"pie@lists.HL7.org\"}]}],\"description\":\"Data that reflect a payerâ€™s coverage of the member.\",\"jurisdiction\":[{\"coding\":[{\"system\":\"urn:iso:std:iso:3166\",\"code\":\"US\"}]}],\"fhirVersion\":\"4.0.1\",\"mapping\":[{\"identity\":\"workflow\",\"uri\":\"http://hl7.org/fhir/workflow\",\"name\":\"Workflow Pattern\"},{\"identity\":\"rim\",\"uri\":\"http://hl7.org/v3\",\"name\":\"RIM Mapping\"},{\"identity\":\"w5\",\"uri\":\"http://hl7.org/fhir/fivews\",\"name\":\"FiveWs Pattern Mapping\"},{\"identity\":\"cdanetv4\",\"uri\":\"http://www.cda-adc.ca/en/services/cdanet/\",\"name\":\"Canadian Dental Association eclaims standard\"},{\"identity\":\"v2\",\"uri\":\"http://hl7.org/v2\",\"name\":\"HL7 v2 Mapping\"},{\"identity\":\"cpha3pharm\",\"uri\":\"http://www.pharmacists.ca/\",\"name\":\"Canadian Pharmacy Associaiton eclaims standard\"}],\"kind\":\"resource\",\"abstract\":false,\"type\":\"Coverage\",\"baseDefinition\":\"http://hl7.org/fhir/StructureDefinition/Coverage\",\"derivation\":\"constraint\",\"differential\":{\"element\":[{\"id\":\"Coverage\",\"path\":\"Coverage\"},{\"id\":\"Coverage.meta\",\"path\":\"Coverage.meta\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.meta.lastUpdated\",\"path\":\"Coverage.meta.lastUpdated\",\"comment\":\"Defines the date the coverage that was effective as of the date of service or admission (163). The Coverage Reference Resource SHALL be returned with data that was effective as of the date of service or admission of the claim\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.meta.profile\",\"path\":\"Coverage.meta.profile\",\"slicing\":{\"discriminator\":[{\"type\":\"pattern\",\"path\":\"$this\"}],\"description\":\"Slice based on value\",\"ordered\":false,\"rules\":\"open\"},\"comment\":\"meta.profile is required as a matter of convenience of receiving systems. The meta.profile should be used by the Server to hint/assert/declare that this instance conforms to one (or more) stated profiles (with business versions). meta.profile does not capture any business logic, processing directives, or semantics (for example, inpatient or outpatient). Clients should not assume that the Server will exhaustively indicate all profiles with all versions that this instance conforms to. Clients can (and should) perform their own validation of conformance to the indicated profile(s) and to any other profiles of interest. CPCDS data element (190)\",\"min\":1},{\"id\":\"Coverage.meta.profile:supportedProfile\",\"path\":\"Coverage.meta.profile\",\"sliceName\":\"supportedProfile\",\"min\":1,\"max\":\"1\",\"patternCanonical\":\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Coverage\"},{\"id\":\"Coverage.extension\",\"path\":\"Coverage.extension\",\"slicing\":{\"discriminator\":[{\"type\":\"value\",\"path\":\"url\"}],\"ordered\":false,\"rules\":\"open\"}},{\"id\":\"Coverage.extension:C4DIC-PlanBeneficiaries-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-PlanBeneficiaries-extension\",\"min\":0,\"max\":\"*\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-PlanBeneficiaries-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-AdditionalCardInformation-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-AdditionalCardInformation-extension\",\"min\":0,\"max\":\"*\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-AdditionalCardInformation-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-ColorPalette-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-ColorPalette-extension\",\"min\":0,\"max\":\"1\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-ColorPalette-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-Logo-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-Logo-extension\",\"min\":0,\"max\":\"1\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Logo-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-QRCode-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-QRCode-extension\",\"min\":0,\"max\":\"*\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-QRCode-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-Barcode-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-Barcode-extension\",\"min\":0,\"max\":\"*\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Barcode-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-SupportingImage-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-SupportingImage-extension\",\"min\":0,\"max\":\"*\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-SupportingImage-extension\"]}]},{\"id\":\"Coverage.extension:C4DIC-CardIssueDate-extension\",\"path\":\"Coverage.extension\",\"sliceName\":\"C4DIC-CardIssueDate-extension\",\"min\":0,\"max\":\"1\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-CardIssueDate-extension\"]}]},{\"id\":\"Coverage.identifier\",\"path\":\"Coverage.identifier\",\"slicing\":{\"discriminator\":[{\"type\":\"pattern\",\"path\":\"type\"}],\"description\":\"Slice based on $this pattern\",\"ordered\":false,\"rules\":\"open\"},\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.identifier.type\",\"path\":\"Coverage.identifier.type\",\"binding\":{\"strength\":\"extensible\",\"valueSet\":\"http://hl7.org/fhir/us/insurance-card/ValueSet/C4DICCoverageIdentifierType\"}},{\"id\":\"Coverage.identifier:memberid\",\"path\":\"Coverage.identifier\",\"sliceName\":\"memberid\",\"short\":\"Member ID\",\"min\":1,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.identifier:memberid.type\",\"path\":\"Coverage.identifier.type\",\"min\":1,\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0203\",\"code\":\"MB\"}]}},{\"id\":\"Coverage.identifier:memberid.system\",\"path\":\"Coverage.identifier.system\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.identifier:memberid.value\",\"path\":\"Coverage.identifier.value\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.identifier:memberid.assigner\",\"path\":\"Coverage.identifier.assigner\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.status\",\"path\":\"Coverage.status\",\"comment\":\"Identfies the status of the coverage information (default: active) (133)\",\"mustSupport\":true},{\"id\":\"Coverage.type\",\"path\":\"Coverage.type\",\"comment\":\"Identifies if the coverage is PPO, HMO, POS, etc. (3)\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.subscriber\",\"path\":\"Coverage.subscriber\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.subscriber.reference\",\"path\":\"Coverage.subscriber.reference\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.subscriberId\",\"path\":\"Coverage.subscriberId\",\"comment\":\"The identifier assigned by the Payer on the subscriber's ID card (132)\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.beneficiary\",\"path\":\"Coverage.beneficiary\",\"comment\":\"Identifier for a member assigned by the Payer.  If members receive ID cards, that is the identifier that should be provided (1).  This is the party who receives treatment for which the costs are reimbursed under the coverage. alternate path:  EOB.patient(Patient).identifier\",\"type\":[{\"code\":\"Reference\",\"targetProfile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Patient\"]}],\"mustSupport\":true},{\"id\":\"Coverage.beneficiary.reference\",\"path\":\"Coverage.beneficiary.reference\",\"min\":1,\"mustSupport\":true},{\"id\":\"Coverage.dependent\",\"path\":\"Coverage.dependent\",\"mustSupport\":true},{\"id\":\"Coverage.relationship\",\"path\":\"Coverage.relationship\",\"comment\":\"Relationship of the member to the person insured (subscriber). (72)\",\"min\":1,\"mustSupport\":true,\"binding\":{\"strength\":\"required\",\"valueSet\":\"http://hl7.org/fhir/ValueSet/subscriber-relationship\"}},{\"id\":\"Coverage.period\",\"path\":\"Coverage.period\",\"comment\":\"Date that the contract became effective (74) and Date that the contract was terminated or coverage changed (75)\",\"mustSupport\":true},{\"id\":\"Coverage.payor\",\"path\":\"Coverage.payor\",\"comment\":\"Issuer of the Policy (2)\",\"max\":\"1\",\"type\":[{\"code\":\"Reference\",\"targetProfile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Organization\"]}],\"mustSupport\":true},{\"id\":\"Coverage.class\",\"path\":\"Coverage.class\",\"slicing\":{\"discriminator\":[{\"type\":\"pattern\",\"path\":\"type\"}],\"description\":\"Slice based on value pattern\",\"ordered\":false,\"rules\":\"open\"},\"mustSupport\":true},{\"id\":\"Coverage.class.type\",\"path\":\"Coverage.class.type\",\"binding\":{\"strength\":\"required\",\"valueSet\":\"http://hl7.org/fhir/us/insurance-card/ValueSet/C4DICCoverageClassVS\"}},{\"id\":\"Coverage.class:group\",\"path\":\"Coverage.class\",\"sliceName\":\"group\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:group.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/coverage-class\",\"code\":\"group\"}]}},{\"id\":\"Coverage.class:group.value\",\"path\":\"Coverage.class.value\",\"comment\":\"Employer account identifier (134)\"},{\"id\":\"Coverage.class:group.name\",\"path\":\"Coverage.class.name\",\"comment\":\"Name of the Employer Account (135)\"},{\"id\":\"Coverage.class:plan\",\"path\":\"Coverage.class\",\"sliceName\":\"plan\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:plan.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/coverage-class\",\"code\":\"plan\"}]}},{\"id\":\"Coverage.class:plan.value\",\"path\":\"Coverage.class.value\",\"comment\":\"Business concept used by a health plan to describe its benefit offerings (154)\"},{\"id\":\"Coverage.class:plan.name\",\"path\":\"Coverage.class.name\",\"comment\":\"Name of the health plan benefit offering assigned to the Plan Identfier (155)\"},{\"id\":\"Coverage.class:division\",\"path\":\"Coverage.class\",\"sliceName\":\"division\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:division.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/us/insurance-card/CodeSystem/C4DICExtendedCoverageClassCS\",\"code\":\"division\"}]}},{\"id\":\"Coverage.class:network\",\"path\":\"Coverage.class\",\"sliceName\":\"network\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:network.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/us/insurance-card/CodeSystem/C4DICExtendedCoverageClassCS\",\"code\":\"network\"}]}},{\"id\":\"Coverage.class:rxbin\",\"path\":\"Coverage.class\",\"sliceName\":\"rxbin\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:rxbin.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/coverage-class\",\"code\":\"rxbin\"}]}},{\"id\":\"Coverage.class:rxpcn\",\"path\":\"Coverage.class\",\"sliceName\":\"rxpcn\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:rxpcn.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/coverage-class\",\"code\":\"rxpcn\"}]}},{\"id\":\"Coverage.class:rxgroup\",\"path\":\"Coverage.class\",\"sliceName\":\"rxgroup\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:rxgroup.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/coverage-class\",\"code\":\"rxgroup\"}]}},{\"id\":\"Coverage.class:rxid\",\"path\":\"Coverage.class\",\"sliceName\":\"rxid\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:rxid.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/coverage-class\",\"code\":\"rxid\"}]}},{\"id\":\"Coverage.class:rxiin\",\"path\":\"Coverage.class\",\"sliceName\":\"rxiin\",\"min\":0,\"max\":\"1\",\"mustSupport\":true},{\"id\":\"Coverage.class:rxiin.type\",\"path\":\"Coverage.class.type\",\"patternCodeableConcept\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/us/insurance-card/CodeSystem/C4DICExtendedCoverageClassCS\",\"code\":\"rxiin\"}]}},{\"id\":\"Coverage.costToBeneficiary\",\"path\":\"Coverage.costToBeneficiary\",\"mustSupport\":true},{\"id\":\"Coverage.costToBeneficiary.type\",\"path\":\"Coverage.costToBeneficiary.type\",\"comment\":\"Includes codes to represent the drug tier of a particular medication in a health plan. Base set are examples. Each plan may have its own controlled vocabulary. Therefore the codes used here should relate to the tier codes used in the member's drug formulary\",\"min\":1,\"mustSupport\":true,\"binding\":{\"strength\":\"extensible\",\"valueSet\":\"http://hl7.org/fhir/us/insurance-card/ValueSet/C4DICCopayTypeVS\"}},{\"id\":\"Coverage.costToBeneficiary.value[x]\",\"path\":\"Coverage.costToBeneficiary.value[x]\",\"type\":[{\"code\":\"Money\"}],\"constraint\":[{\"key\":\"ValueMoney-details-or-extension\",\"severity\":\"error\",\"human\":\"costToBeneficiary SHALL have (value AND currency) OR Beneficiary Cost String extension, but not both\",\"expression\":\"((value.exists() and currency.exists()) xor extension.where(url='http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-BeneficiaryCostString-extension').exists()) and ((value.exists() xor currency.exists())).not()\",\"source\":\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-Coverage\"}],\"mustSupport\":true},{\"id\":\"Coverage.costToBeneficiary.value[x].extension:C4DIC-BeneficiaryCostString-extension\",\"path\":\"Coverage.costToBeneficiary.value[x].extension\",\"sliceName\":\"C4DIC-BeneficiaryCostString-extension\",\"comment\":\"Either valueMoney.value and valueMoney.currency is MS or Beneficiary Cost String extension is MS\",\"min\":0,\"max\":\"1\",\"type\":[{\"code\":\"Extension\",\"profile\":[\"http://hl7.org/fhir/us/insurance-card/StructureDefinition/C4DIC-BeneficiaryCostString-extension\"]}],\"mustSupport\":true},{\"id\":\"Coverage.costToBeneficiary.value[x].value\",\"path\":\"Coverage.costToBeneficiary.value[x].value\",\"comment\":\"Either valueMoney.value and valueMoney.currency is MS or Beneficiary Cost String extension is MS\",\"mustSupport\":true},{\"id\":\"Coverage.costToBeneficiary.value[x].currency\",\"path\":\"Coverage.costToBeneficiary.value[x].currency\",\"comment\":\"Either valueMoney.value and valueMoney.currency is MS or Beneficiary Cost String extension is MS\",\"mustSupport\":true}]}}"
      },
      {
        "type": "image",
        "source": {
          "type": "base64",
          "media_type": "image/png",
          "data": "{{image}}"
        }
      }
    ]
  }
]
